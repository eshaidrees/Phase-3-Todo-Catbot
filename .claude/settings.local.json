{
  "permissions": {
    "allow": [
      "Bash(npm install --legacy-peer-deps)",
      "Bash(powershell -Command \"Start-Sleep -Seconds 3; curl -X POST http://localhost:8000/api/register -H ''Content-Type: application/json'' -d ''{\"\"name\"\":\"\"Test User\"\",\"\"email\"\":\"\"test@example.com\"\",\"\"password\"\":\"\"password123\"\"}''\")",
      "Bash(python -c \"\nimport requests\nimport threading\nimport time\nfrom src.main import app\nimport uvicorn\n\ndef run_server\\(\\):\n    uvicorn.run\\(app, host=''127.0.0.1'', port=8000, log_level=''info''\\)\n\nserver_thread = threading.Thread\\(target=run_server\\)\nserver_thread.daemon = True\nserver_thread.start\\(\\)\n\ntime.sleep\\(2\\)  # Wait for server to start\n\ntry:\n    response = requests.post\\(''http://127.0.0.1:8000/api/register'', \n                            json={''name'': ''Test User'', ''email'': ''test@example.com'', ''password'': ''password123''}\\)\n    print\\(''Response:'', response.text\\)\n    print\\(''Status:'', response.status_code\\)\nexcept Exception as e:\n    print\\(''Error:'', e\\)\n\")",
      "Bash(python debug_auth.py)",
      "Bash(powershell \"Remove-Item -Path ''backend\\\\todo.db'' -Force -ErrorAction SilentlyContinue\")",
      "Bash(python -c \"\nimport requests\nimport json\n\nprint\\(''Testing task creation endpoint...''\\)\ntry:\n    # First register a user\n    signup_response = requests.post\\(''http://127.0.0.1:8000/api/register'', \n                                  json={''email'': ''taskuser@example.com'', ''password'': ''testpass123'', ''name'': ''Task User''},\n                                  timeout=15\\)\n    print\\(f''Signup status: {signup_response.status_code}''\\)\n    \n    if signup_response.status_code == 200:\n        token_data = signup_response.json\\(\\)\n        access_token = token_data[''access_token'']\n        print\\(''[SUCCESS] User registered successfully''\\)\n        \n        # Get user ID from token\n        import base64\n        token_parts = access_token.split\\(''.''\\)\n        payload = base64.b64decode\\(token_parts[1] + ''==''\\).decode\\(''utf-8''\\)\n        import json\n        token_payload = json.loads\\(payload\\)\n        user_id = token_payload[''user_id'']\n        print\\(f''User ID: {user_id}''\\)\n        \n        # Test creating a task\n        headers = {''Authorization'': f''Bearer {access_token}'', ''Content-Type'': ''application/json''}\n        task_response = requests.post\\(f''http://127.0.0.1:8000/api/{user_id}/tasks'', \n                                    json={''title'': ''Test Task'', ''description'': ''Test Description''},\n                                    headers=headers,\n                                    timeout=15\\)\n        print\\(f''Task creation status: {task_response.status_code}''\\)\n        print\\(f''Task response: {task_response.text}''\\)\n        \n        if task_response.status_code == 200:\n            print\\(''[SUCCESS] Task created successfully''\\)\n        elif task_response.status_code == 404:\n            print\\(''[ERROR] Task endpoint returned 404 - this was the original issue''\\)\n        else:\n            print\\(f''[INFO] Task endpoint returned {task_response.status_code}''\\)\n    else:\n        print\\(f''[ERROR] Signup failed: {signup_response.status_code}''\\)\n        \nexcept Exception as e:\n    print\\(f''[ERROR] Exception during testing: {str\\(e\\)}''\\)\n    import traceback\n    traceback.print_exc\\(\\)\n\")",
      "Bash(curl -X GET http://localhost:7860/docs --write-out '%{http_code}' --silent --output /dev/null:*)",
      "Bash(python -c:*)",
      "Bash(timeout 5s curl -X POST http://localhost:7860/api/test/chat -H \"Content-Type: application/json\" -d \"{\"\"message\"\":\"\"test\"\"}\")",
      "Bash(python test_api.py:*)",
      "Bash(find:*)",
      "Bash(del:*)"
    ]
  }
}
